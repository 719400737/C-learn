---
typora-root-url: ./
---

# Linux

## 1.有问题问man

man date：查询date命令有关的指令

## 2. 6个命令终端，1个图形终端：ctrl+alt+F1-6

当桌面卡死后可以使用其他终端，终止卡死的命令

## 3.启动过程

1.内核引导，使用/boot

2.运行init程序--runlevel（常用3和5）

3.系统初始化

4.建立终端

5.用户登录系统

## 4.关机

不管是重启还是关闭，首先要运行sync，将内存写到磁盘中。

## 5.VIM编辑器

：set nu 加行号

### 三种模式：

#### 	1.一般模式	

| 一般模式下的操作 | 指令                            |
| ---------------- | ------------------------------- |
| 删除光标当前行   | dd                              |
| 撤销指令         | u                               |
| 复制             | yy                              |
| 粘贴             | p                               |
| 删除一个字符     | 小写x：delete，大写X：backspace |
| 删除一个单词     | dw：delete word                 |
| 复制一个单词     | yw：y+word                      |
| 光标移动到行头   | shift+^                         |
| 光标移动到行尾   | shift+$                         |
| 移动到页头       | 1+shift+g                       |
| 移动到页尾       | shift+g                         |
| 移动到目标行     | N+shift+g                       |

#### 2.编辑模式

i：光标前

a：光标后

o：下一行

#### 3.指令模式

| w    | 写入                        |
| ---- | --------------------------- |
| q    | 退出                        |
| ！   | 强制执行                    |
| 替换 | %s/old/new/g                |
| 查找 | /  ：n往下找，shift+n往上找 |
| 查找 | ？：n往上找，shift+n往下找  |

## 6.用户和用户组

### 用户：

| 功能                       | 指令                                  |
| -------------------------- | ------------------------------------- |
| 新增用户                   | useradd+用户名                        |
| 对用户设置密码             | passwd+用户名                         |
| 用户名是否存在             | id+用户名                             |
| 查看当前用户               | who  、whoami                         |
| 切换到某个用户             | su - 名                               |
| 删除某个用户               | userdle +名  //-r连用户主目录一起删除 |
| 用户修改：将用户加入用户组 | usermod -g 用户组 用户名              |
| 将新建用户加入组           | useradd -g 组名 用户名                |

### 用户组：

| 功能   | 命令                      |
| ------ | ------------------------- |
| 新增组 | groupadd 组名             |
| 删除组 | groupdel 组名             |
| 修改组 | groupmod -n 新组名 老组名 |

### 与用户账号有关的系统文件

| /etc/passwd文件下                                            |
| ------------------------------------------------------------ |
| 1.用户名                                                     |
| 2.口令 ：存放着是加密后的                                    |
| 3.用户标识号：0是超级用户root的标识，1-99保留，普通用户从100开始 |
| 4.组标识号：                                                 |
| 5.注释性描述                                                 |
| 6.主目录                                                     |
| 7.登录Shell：用户与linux系统之间的接口                       |

/etc/shadow:与密码有关的文件

/etc/group:与组有关的命令

## 7.常用基本命令

| 常见指令类型                |
| --------------------------- |
| 1.时间日期类：1.date  2.cal |
| 2.文件目录类                |
| 3.文件权限类                |
| 4.网络配置类                |
| 5.磁盘分区类                |
| 6.搜索查找类                |
| 7.进程线程类                |
| 8.压缩和解压类              |
| 9.性能优化类                |

### 文件目录类：

| 指令       | 功能                              |
| ---------- | --------------------------------- |
| pwd        | 显示当前目录                      |
| ls         | 显示目录 -a -l -d -R              |
| mkdir      | 创建一个新的目录   -p建立多级目录 |
| rmdir      | 删除目录                          |
| touch      | 创建一个文件                      |
| cd         | 切换目录                          |
| rm         | 移除文件和目录                    |
| mv         | 移动文件与目录或修改名            |
| cat        | 查看文件                          |
| tac        | 从文件低开始看                    |
| more       | less 一页一页的显示文件           |
| head和tail | 只看头或者尾巴的几行              |
| history    | 历史命令  一般和重定向 > 一起使用 |

网络配置类

ifconfig

### 磁盘分区类：

**关键词：分区  目录  挂载**

目录挂载在那个分区下面

| 指令   | 作用     |
| ------ | -------- |
| fdisk  | 显示分区 |
| umount | 卸载     |
| mount  | 挂载     |

硬盘：df -h 查看硬盘存储情况

### 搜索查找类

​	find . -name 'a.*'   在本目录下寻找a开头的文件

​	grep 在文件内搜索字符串匹配的行并输出，一般和管道一块使用

​	常用 grep -n 查找的字符串 文件

### 进程线程类 

| 指令        | 功能                                                         |
| ----------- | ------------------------------------------------------------ |
| ps -ef      | e:显示所有进程，f全格式                                      |
| ps -aux     | a:当前终端显示所有进程，u以用户格式显示，x显示后台进程运行参数 |
| netstat-anp | an：按一定顺序排列输出， p:表示显示那个进程在调用            |

### 压缩解压缩类

**压缩gz类型文件**：压完后源文件消失 不可压缩目录

gzip +文件名  

gunzip +文件名

**压缩解压tar.gz**：原文件不会消失

压缩：tar -zcvf XXX.tar.gz n1.txt n2.txt

解压：tar -zxvf XXX.tar.gz

-c压缩  -x解压 -z打包同时压缩 -v显示详细信息 -f指定压缩名

**压缩zip文件**

-r压缩目录

zip +参数 +XXX.zip+将压缩的内容

## 8.文件与目录结构

### 目录结构

| 文件目录    | 作用                                                         |
| ----------- | ------------------------------------------------------------ |
| **/bin**    | **存放经常使用的命令**                                       |
| **/boot**   | **存放启动linux是常用的核心文件，包括连接文件以及镜像文件**  |
| /dev        | Device的缩写，存放linux外部设备                              |
| **/etc**    | **所有系统管理所需要的配置文件和子目录**                     |
| /home       | 存放普通用户的主目录                                         |
| /lib        | 系统开机所需最基本的动态来接库，几乎所有应用程序都用到这些   |
| /lost+found | 一般是空的，当非法关机后，这里存放一些文件                   |
| /media      | 自动识别一个设备，如U盘，光驱                                |
| /mnt        | 让用户临时挂载别的文件系统的                                 |
| **/opt**    | **主机额外安装软件所摆放的目录**                             |
| /proc       | 虚拟的目录，为系统内存的映射，可以通过起来获取系统信息       |
| /root       | 超级用户的主目录                                             |
| /sbin       | 存放的是系统管理员使用的系统管理程序                         |
| /selinux    | 类似与win的防火墙                                            |
| /srv        | service的缩写，窜访一些服务启动后需要提取的数据              |
| /sys        | 新出现的一个文件系统sysfs                                    |
| /tmp        | 存放一些临时文件                                             |
| **/usr**    | **用户很多应用程序和文件存在此处，类似win下的program files** |
| /var        | 存放不断扩充着的东西，经常被修改的目录，包括各种日志文件     |

### 文件属性

![/1.png](/1.png)

前面英文：

第0位表示文件类型 -表示文件，d表示目录，l表示链接文件

1-3表示所属主

4-6表示所属组

7-9表示其他用户权限

![1](/1.png)

后面一次为，链接数，文件属主，文件属组，文件大小，文件建立或修改时间，文件名

### 文件权限类

**chmod：**

chmod 774 +文件名  自己算:7对应3个二进制为全为1

删除需要拥有该文件的写权限

**chgrp: 改变文件的所属组**

chgrp 最终组+被修改的用户

**chown: 改变文件的所属者**

chown 最终落地用户 +被修改的文件

chown 最终用户:落地用户组 +被修改的文件

**umask**

##  9.Shell简介

查看当前环境 env|more

